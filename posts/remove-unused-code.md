# โพสต์: ลบ Code ที่ไม่ได้ใช้งานออก

---

## คำถาม

> ลบ Code ที่ไม่ได้ใช้งานออก

---

## ทำไมต้องลบ

- **Bundle เล็กลง** → โหลดเร็วขึ้น
- **อ่านง่ายขึ้น** → ไม่สับสนว่าโค้ดนี้ยังใช้อยู่ไหม
- **ลด bug** → ไม่มีโค้ด “ซุ่มซ่าม” ที่ไม่มีใครดูแล

---

## วิธีหาโค้ดที่ไม่ได้ใช้

### 1. ใช้เครื่องมือในโปรเจกต์

- **ESLint:** rule `no-unused-vars` จะบอกตัวแปร/ฟังก์ชันที่ประกาศแต่ไม่ใช้
- **TypeScript:** เปิด strict แล้วตัวที่ import มาแต่ไม่ใช้จะขึ้น error
- **bundler:** เครื่องมือเช่น `ts-prune`, `knip`, หรือ `unimported` ใช้เช็คไฟล์/export ที่ไม่มีใคร import

### 2. ค้นหาด้วยตัวเอง

- **Grep / Find in project:** หาชื่อ function, component, constant ว่ามีที่ไหนเรียกใช้บ้าง
- **ไม่มีที่ไหน import หรือเรียก** = เป็นตัวเลือกสำหรับลบ (หลังเช็คว่าไม่ใช่ public API หรือใช้จากที่อื่น เช่น config)

### 3. โค้ดที่ “เหมือนไม่ใช้” แต่ต้องดูดี ๆ

- ใช้ผ่าน **dynamic import** หรือ **string name** (เช่น route, config)
- ใช้ใน **test** หรือ **script** แยก repo
- เป็น **entry point** หรือ export สำหรับ library

→ เช็คให้ชัวร์ก่อนลบ

---

## สิ่งที่มักลบได้

| ประเภท | ตัวอย่าง |
|--------|----------|
| Import ที่ไม่ใช้ | `import { x } from 'y'` แต่ไม่ได้ใช้ `x` |
| Function / Component ที่ไม่มีที่เรียก | ฟังก์ชันหรือ component ที่ไม่มีไฟล์ไหน import |
| CSS / class ที่ไม่ใช้ | class ใน CSS หรือ Tailwind ที่ไม่มีใน JSX/HTML |
| Comment โค้ดเก่าทั้งบล็อก | code ที่ถูก comment ไว้นานและไม่ใช้แล้ว |
| File ทั้งไฟล์ | ไฟล์ที่ไม่มีที่ไหน import (หลังเช็คกับ ts-prune/knip แล้ว) |

---

## ลำดับที่แนะนำ

1. **แก้ ESLint / TypeScript** ให้โปรเจกต์ clean (no unused vars, no unused imports)
2. **รัน ts-prune หรือ knip** หา export ที่ไม่มีใครใช้
3. **ลบทีละน้อย** แล้วรัน test + build ทุกครั้ง
4. **ลบไฟล์ที่ไม่มีที่ใช้** หลังแน่ใจแล้ว

---

## สรุปหนึ่งบรรทัด

**เปิดใช้ rule เช็คของไม่ใช้ในโปรเจกต์ แล้วค่อย ๆ ลบทีละส่วน + รัน test/build ทุกครั้ง** โค้ดจะสะอาดและ bundle เบาลง
